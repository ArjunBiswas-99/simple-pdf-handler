You are Cline, please implement the main window shell for a desktop PDF application using <FRAMEWORK>.

Use this design spec:

1. Layout hierarchy
   - Root window with:
     - AppBar (top, fixed height ~40px)
     - ModeTabs bar (segmented control directly under AppBar)
     - ContextToolbar (under ModeTabs)
     - MainContent area split into:
       - LeftSidebar (fixed width ~280px)
       - DocumentCanvas (center, expands)
       - RightPanel (fixed width ~280px, collapsible)
     - StatusBar at bottom (height ~24px).

2. AppBar
   - Left: app icon + text "Simple PDF Handler"
   - Right: theme toggle button (icon only), settings button (gear icon), help button ("?")
   - Background: light.bgToolbar
   - Bottom 1px border: light.borderSubtle.

3. ModeTabs
   - Tabs: View, Comment, Edit, Organize, Convert & OCR.
   - Implement as a horizontal tab strip or segmented control.
   - Active tab: white background, bottom 2px border in colorAccentPrimary, text in colorAccentPrimary.
   - Inactive tabs: transparent background, text in light.textSecondary, hover with light.bgSurface.

4. ContextToolbar (changes with mode)
   - Height: control.toolbarHeight
   - Background: light.bgToolbar
   - Use horizontal StackPanel / flex row with groups separated by 1px vertical lines in borderSubtle.
   - Implement toolbar content for each mode exactly as the textual groups below:

   View mode toolbar:
     [Open] [Save] [Save Asâ–¼] [Print] || [|<] [<] [Page: ___] [ / ] [Total: ##] [>] [>|]
     || [Fit Page] [Fit Width] [ - ] [ 100% â–¼ ] [ + ]
     || [Single Page] [Continuous] [Facing]
     || [Rotate Left] [Rotate Right]

   Comment mode toolbar:
     [Highlight] [Underline] [Strikethrough]
     || [Sticky Note] [Text Box] [Callout]
     || [Rectangle] [Ellipse] [Line] [Arrow] [Freehand]
     || [Stampâ–¼]
     || [Distance] [Area]

   Edit mode toolbar:
     [Select Object] [Edit Text] [Edit Image]
     || [Add Text] [Add Image]
     || [Bring Forward] [Send Backward] [Align Leftâ–¼] [Distributeâ–¼]
     || [Delete] [Duplicate]

   Organize mode toolbar:
     [Insert Pageâ–¼] [Delete Page] [Duplicate Page]
     || [Rotate Left] [Rotate Right] [Move Up] [Move Down]
     || [Extractâ–¼] [Replace Page]
     || [Merge PDFs...]

   Convert & OCR mode toolbar:
     [To Word] [To Excel] [To PowerPoint] [To Imagesâ–¼] [To HTML] [To Text]
     || [From Fileâ–¼] [From Images] [From Web URL]
     || [Recognize Textâ–¼]

   For now stub out commands / handlers; focus on layout and styling.

5. LeftSidebar
   - Split into:
     - Vertical icon rail (width ~48px) with 4 buttons: Pages, Bookmarks, Search, Attachments.
     - Content area that changes based on selected icon.
   - Implement only two panels for now:
     - Pages (Thumbnails): vertical listbox of page items with dummy items (Page 1..5).
     - Search: search field + dummy result items.
   - Style: background light.bgSurface, right border light.borderSubtle.

6. DocumentCanvas
   - Background: light.bgCanvas.
   - Centered white rectangle representing a PDF page (e.g., 800x1000) with:
     - 1px border rgba(0,0,0,0.08)
     - drop shadow 0 4 12 rgba(15,23,42,0.3)
   - When `IsDocumentLoaded = false`, overlay an empty-state card in the center with:
     - Icon placeholder
     - Title text "Open a PDF to get started"
     - Subtitle "Use File â†’ Open or drop a PDF here."

7. RightPanel
   - Collapsible panel on the right. For now:
     - When no object/tool is selected: show text "No selection" centered.
     - When Comment mode is active and a dummy "highlight" is selected (you can simulate with a bool property), show a sample "Highlight Properties" layout:
       - Color picker placeholder
       - Opacity slider
       - Author text field
   - Background: light.bgSurface, left border light.borderSubtle.

8. StatusBar
   - Background: light.bgToolbar
   - Top border in light.borderSubtle
   - Left: static text "A4 210Ã—297 mm"
   - Center: text "Page 1 of 10"
   - Right: text "Zoom: 100%   Mode: View"

9. Styling
   - Use the design tokens:
     - Font family: fontFamilyPrimary
     - Font size base: 13px for labels and menus.
     - Accent color: colorAccentPrimary (#2563EB)
     - Apply consistent padding using spacing.sm (8) and spacing.md (12).
   - Buttons:
     - Height: control.buttonSize (32)
     - Min width: 32 for icon-only, 80 for text.
     - Corner radius: control.cornerRadius (4)
     - Hover: light.bgToolbar slightly darker (#E5E7EB)
     - Active/checked: background colorAccentPrimarySoft, foreground colorAccentPrimary.

10. Please structure the code cleanly:
    - Separate components: AppShell, AppBar, ModeTabs, ContextToolbar, LeftSidebar, DocumentCanvas, RightPanel, StatusBar.
    - Use dummy ViewModel properties (e.g., ActiveMode enum, IsDocumentLoaded bool) so we can later connect real logic.

Focus on getting the layout, visual style, and switching between modes/panels correct. No need to hook into real PDF rendering yet.




A. Textual wireframe of the main window
Think of the window as a hierarchy of regions:

text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OS Titlebar (handled by OS)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ AppBar: icon + app name          [Theme] [Settings] [Help] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ModeTabs: [ View ] [ Comment ] [ Edit ] [ Organize ] [Convert/OCR] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ContextToolbar (changes with active mode)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        â”‚                                        â”‚          â”‚
â”‚        â”‚                                        â”‚          â”‚
â”‚ Left   â”‚          DocumentCanvas                â”‚ Right    â”‚
â”‚ Sidebarâ”‚          (PDF pages on dark stage)     â”‚ Panel    â”‚
â”‚        â”‚                                        â”‚          â”‚
â”‚        â”‚                                        â”‚          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ StatusBar: page size | zoom | page X of Y | tool hints     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Regions in more detail
AppBar

Left: app icon + â€œSimple PDF Handlerâ€.
Center: (optional) document title when opened.
Right:
Theme toggle (light/dark).
Settings gear.
Help (â€œ?â€) / About.
ModeTabs (segmented control / tab strip)

Tabs (text + optional icons):
View | Comment | Edit | Organize | Convert & OCR
Only one active at a time; it controls which ContextToolbar and Right Panel are shown.
ContextToolbar

Horizontal toolbar split into logical groups, separated by thin vertical dividers.
Each mode defines its own groups and buttons (see Section B).
Left Sidebar

Narrow vertical icon rail on the far left, then a panel area:
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ icons   â”‚ active panel content         â”‚
â”‚ [Pg]    â”‚ (Thumbnails / Bookmarks /    â”‚
â”‚ [Bm]    â”‚  Search / Attachments)       â”‚
â”‚ [ğŸ”]    â”‚                               â”‚
â”‚ [ğŸ“]    â”‚                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Icon rail:
Pages (thumbnails)
Bookmarks
Search
Attachments
Active panel depends on the selected icon.
DocumentCanvas

Dark neutral background, centered white page with shadow.
Supports:
scroll
zoom
multiple pages (continuous scroll) depending on View mode.
When no PDF loaded, show an empty-state card:
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [document icon]                            â”‚
â”‚  "Open a PDF to get started"                â”‚
â”‚  "Use File â†’ Open or drop a PDF here."      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Right Panel

Hidden or narrow when no contextual properties are needed.
When a tool/object is active:
For text: font, size, color, alignment.
For highlight: color, opacity.
For shapes: stroke/fill/thickness.
Also used for complex flowsâ€™ options (e.g., OCR settings) if you donâ€™t want a dialog.
StatusBar

Left to right:
Page size (â€œA4 (210Ã—297 mm)â€)
Current page â€œPage 3 of 25â€
Zoom â€œ125%â€
Current mode/tool hint (â€œHighlight text (Esc to cancel)â€).
B. Context toolbars per mode (textual layout)
Representing each toolbar as groups separated by ||.
Buttons shown as [Label] for clarity; in the real UI these are icons + short labels or tooltips.

1. View mode (F1 + basic F8)
text

[File] group:
  [Open] [Save] [Save Asâ–¼] [Print]

[Navigation] group:
  [|<] [<] [ Page: ___ ] [ / ] [Total: ## ] [>] [>|]

[Zoom] group:
  [Fit Page] [Fit Width] [ - ] [ 100% â–¼ ] [ + ]

[View Layout] group:
  [Single Page] [Continuous] [Facing]

[Rotate] group:
  [Rotate Left] [Rotate Right]
Behaviors:

Page: ___ is a numeric box; Enter jumps to that page.
100% â–¼ opens preset zoom levels: 50, 75, 100, 125, 150, 200, Fit Width, Fit Page.
2. Comment mode (F4)
text

[Text Markup] group:
  [Highlight] [Underline] [Strikethrough]

[Notes] group:
  [Sticky Note] [Text Box] [Callout]

[Drawing] group:
  [Rectangle] [Ellipse] [Line] [Arrow] [Freehand]

[Stamps] group:
  [Stampâ–¼]  (recent stamp icon + dropdown with presets)

[Measurement] group:
  [Distance] [Area]  (if/when F4.7 implemented)
Selecting any annotation shows its properties in the Right Panel:

Color, opacity, author, subject, etc.
3. Edit mode (F2)
text

[Edit Tools] group:
  [Select Object] [Edit Text] [Edit Image]

[Insert] group:
  [Add Text] [Add Image]

[Arrange] group:
  [Bring Forward] [Send Backward] [Align Leftâ–¼] [Distributeâ–¼]

[Object] group:
  [Delete] [Duplicate]
Behavior:

Select Object lets user click any PDF element/annotation.
Edit Text converts clicked text blocks into editable overlay text fields where possible.
Right Panel: font family, size, bold/italic, text color, fill color, border, etc.
4. Organize mode (F3 + F5)
When this mode is active:

Left panel automatically shows page thumbnails with larger sizes and dragâ€‘andâ€‘drop reorder.
Canvas can show multi-page grid or stay single-page; choose what is simpler.
Toolbar:

text

[Pages] group:
  [Insert Pageâ–¼]  (Blank / From File / From Scanner)
  [Delete Page]   (acts on selected thumbnails)
  [Duplicate Page]

[Arrange] group:
  [Rotate Left] [Rotate Right]
  [Move Up] [Move Down]  (alternative to drag-drop)

[Extract / Replace] group:
  [Extractâ–¼]  (Selected Pages / Page Range...)
  [Replace Page]  (replace selected with another PDF page)

[Merge] group:
  [Merge PDFs...]  (opens dialog with file list + ordering)
5. Convert & OCR mode (F6, F7)
Toolbar:

text

[Export] group:
  [To Word] [To Excel] [To PowerPoint] [To Imagesâ–¼] [To HTML] [To Text]

[Create PDF] group:
  [From Fileâ–¼]  (Word/Excel/PPT/Image)
  [From Images] [From Web URL]

[OCR] group:
  [Recognize Textâ–¼]
[Recognize Textâ–¼] opens either:
Right Panel with options:
Language dropdown.
Pages: All / Current / Range.
Output: â€œMake text searchableâ€ or â€œExport to new PDFâ€.
Or a modal dialog; whichever you prefer.
C. Left sidebar panels (detailed sketch)
1. Icon rail (always visible)
text

â”Œâ”€â”€â”€â”€â”€â”
â”‚[Pg]â”‚  Pages / Thumbnails
â”‚[Bm]â”‚  Bookmarks
â”‚[ğŸ”]â”‚  Search
â”‚[ğŸ“]â”‚  Attachments
â””â”€â”€â”€â”€â”€â”˜
Icons are 24Ã—24 with 8px padding.

2. Thumbnails panel (Pages)
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PAGES                        â”‚ (section header)
â”‚  [ + New Pageâ–¼ ]              â”‚ (optional small button)
â”‚                               â”‚
â”‚ [ 1 ]  (thumbnail, selected)  â”‚
â”‚ [ 2 ]                         â”‚
â”‚ [ 3 ]                         â”‚
â”‚ ...                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Each page entry:
Thumbnail preview.
Page number label.
Selected page highlighted with accent border and soft background.
Drag & drop to reorder in Organize mode.
3. Bookmarks panel
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BOOKMARKS                    â”‚
â”‚  [ + Add Bookmark ]           â”‚
â”‚                               â”‚
â”‚  â–¶ Chapter 1                  â”‚
â”‚    â””â”€ Section 1.1             â”‚
â”‚    â””â”€ Section 1.2             â”‚
â”‚  â–¶ Chapter 2                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
4. Search panel
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SEARCH                       â”‚
â”‚  [ ğŸ” Search in document... ] â”‚ (text field)
â”‚  [ ] Match case    [ ] Whole words â”‚ (checkboxes)
â”‚                               â”‚
â”‚  Results:                     â”‚
â”‚  â€¢ Page 2: "... matched text" â”‚
â”‚  â€¢ Page 5: "... matched text" â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Clicking a result jumps to that page and highlights the text.

5. Attachments panel
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ATTACHMENTS                  â”‚
â”‚  [ + Add Attachment ]         â”‚
â”‚                               â”‚
â”‚  â€¢ data.xlsx                  â”‚
â”‚  â€¢ image.png                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
D. Right properties panel (examples)
Shown when a tool/object is selected.

For text annotation:

text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TEXT PROPERTIES          â”‚
â”‚  Font:   [ Segoe UI â–¼ ]   â”‚
â”‚  Size:   [ 11 â–¼ ]         â”‚
â”‚  Style:  [B] [I] [U]       â”‚
â”‚  Color:  [â– â– ] (color well)â”‚
â”‚  Alignment: [L] [C] [R]    â”‚
â”‚  Opacity: [  80%  â–“â–“â–“â–“ ]   â”‚ (slider)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
For highlight annotation:

text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HIGHLIGHT PROPERTIES     â”‚
â”‚  Color:  [â– â– â– â– â– â– â– â– ]       â”‚ (palette swatches)
â”‚  Opacity: [ 60% â–“â–“â–“â–“ ]    â”‚
â”‚  Author:  [ text field ]  â”‚
â”‚  Comment: [ multi-line ]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
E. Design tokens (codeâ€‘friendly)
You can hand these to Cline as variables for your styling system.

jsonc

{
  "fontFamilyPrimary": "Segoe UI, system-ui, -apple-system, BlinkMacSystemFont, 'Inter', sans-serif",
  "fontSizeBase": 13,
  "fontSizeSmall": 12,
  "fontSizeHeading": 16,

  "colorAccentPrimary": "#2563EB",
  "colorAccentPrimarySoft": "#DBEAFE",
  "colorDanger": "#DC2626",
  "colorWarning": "#D97706",

  "light": {
    "bgWindow": "#F3F4F6",
    "bgToolbar": "#F9FAFB",
    "bgSurface": "#FFFFFF",
    "bgCanvas": "#2F3437",
    "borderSubtle": "#D1D5DB",
    "borderStrong": "#9CA3AF",
    "textPrimary": "#111827",
    "textSecondary": "#4B5563",
    "textDisabled": "#9CA3AF",
    "textOnAccent": "#FFFFFF"
  },
  "dark": {
    "bgWindow": "#050816",
    "bgToolbar": "#111827",
    "bgSurface": "#111827",
    "bgCanvas": "#111827",
    "borderSubtle": "#374151",
    "borderStrong": "#4B5563",
    "textPrimary": "#F9FAFB",
    "textSecondary": "#D1D5DB",
    "textDisabled": "#6B7280",
    "textOnAccent": "#FFFFFF"
  },

  "spacing": {
    "xs": 4,
    "sm": 8,
    "md": 12,
    "lg": 16,
    "xl": 24
  },

  "control": {
    "toolbarHeight": 40,
    "buttonSize": 32,
    "cornerRadius": 4
  }
}
You can adapt this to XAML StaticResources, CSS variables, etc.

- the left panel is not collapsible. ideally the pages, bookmarks, search and attachment buttons should behave like this. when each is clicked the corresponding content should show up, when the corresponding content is there in the panel and they are clicked again the panel must be collapsed. the user can click any of the options again to see the panel again.
- none of the buttons on the left panel (pages, bookmarks, search and attachment buttons ) is showing correctly they are getting truncated from the left and right.
- search functionality is already implemented you can add the same contents when clicked on search